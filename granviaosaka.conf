<VirtualHost 172.20.0.136:80 172.20.0.137:80>
    DocumentRoot /var/www/html/granviaosaka_com/www/

    #ServerName  www.granvia-osaka.com	
    #ServerAlias granvia-osaka.com *.granvia-osaka.com
    ServerName granvia-osaka.demos.sabrehospitality.com
    Options +FollowSymlinks -Indexes

    RewriteEngine on


	RewriteRule ^/direct/(.*) 		/direct/$1 [QSA,L] #allows direct http access to non language specific php files.
	
	RewriteRule ^/([a-z]{2}\/.*) 	/$1 [QSA,L] #any language subdirectory should be left alone
    RewriteRule ^/(.*\/$)    		/en/$1index.php [QSA,L] #fix for links ending in /
    RewriteRule ^/(.*\.php)    		/en/$1 [QSA,L]  #any php file with no language subdirectory redirects to the default language
    RewriteRule ^/(.*\.html) 		/en/$1 [QSA,L]  #any html file with no language subdirectory redirects to the default language 
    
    ErrorDocument 404 /404.php
    ErrorLog "|/usr/sbin/rotatelogs /var/www/html/granviaosaka_com/logs/errors/%Y-%m-%d_errors.log 86400"
    CustomLog "|/usr/sbin/rotatelogs /var/www/html/granviaosaka_com/logs/%Y-%m-%d_access.log 86400" combined
</VirtualHost>